proc dgn3500_mc_init {} {
    echo "dgn3500: MC setup"

    arx100_mc_init_prepare

    mww 0xbf801000 0x1b1b
    mww 0xbf801010 0x0
    mww 0xbf801020 0x0
    mww 0xbf801030 0x0
    mww 0xbf801040 0x0
    mww 0xbf801050 0x200
    mww 0xbf801060 0x306
    mww 0xbf801070 0x303
    mww 0xbf801080 0x102
    mww 0xbf801090 0x70a
    mww 0xbf8010a0 0x203
    mww 0xbf8010b0 0xc02
    mww 0xbf8010c0 0x1c8
    mww 0xbf8010d0 0x1
    mww 0xbf8010e0 0x0
    mww 0xbf8010f0 0x13F
    mww 0xbf801100 0x2200
    mww 0xbf801110 0xd
    mww 0xbf801120 0x301
    mww 0xbf801130 0x200
    mww 0xbf801140 0xa04
    mww 0xbf801150 0x1600
    mww 0xbf801160 0x1616
    mww 0xbf801170 0x0
    mww 0xbf801180 0x5D
    mww 0xbf801190 0x0
    mww 0xbf8011a0 0x0
    mww 0xbf8011b0 0x0
    mww 0xbf8011c0 0x514
    mww 0xbf8011d0 0x2d93
    mww 0xbf8011e0 0x8235
    mww 0xbf8011f0 0x0
    mww 0xbf801200 0x0
    mww 0xbf801210 0x0
    mww 0xbf801220 0x0
    mww 0xbf801230 0x0
    mww 0xbf801240 0x0
    mww 0xbf801250 0x0
    mww 0xbf801260 0x0
    mww 0xbf801270 0x0
    mww 0xbf801280 0x0
    mww 0xbf801290 0x0
    mww 0xbf8012a0 0x0
    mww 0xbf8012b0 0x0
    mww 0xbf8012c0 0x0
    mww 0xbf8012d0 0x600
    mww 0xbf8012e0 0x0

    arx100_mc_init_finish
}

proc dgn3500_reset_init {} {
    echo "dgn3500: reset init"

    arx100_cgu_init
    dgn3500_mc_init
}

$TARGETNAME configure -event reset-init { dgn3500_reset_init }

proc dgn3500_ramboot {} {
    reset init

    set loadaddr 0xa0100000
    echo "dgn3500: loading u-boot.bin to $loadaddr"
    load_image dgn3500_ram/u-boot.bin $loadaddr bin
    resume $loadaddr
}
